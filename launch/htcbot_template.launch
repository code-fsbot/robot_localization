<launch>

    <arg name="is_debug" default="true" />
    <param name="use_sim_time" value="$(arg is_debug)" type="bool"/>

    <rosparam file="$(find robot_localization)/params/htcbot_template.yaml" command="load" />

    <node pkg="tf" type="static_transform_publisher" name="base_2_imu" args="0 0 0 0 0 0 1 base_link imu_link 50" />
    <node pkg="tf" type="static_transform_publisher" name="base_2_gps" args="0 0 0 0 0 0 1 base_link gps 10" />

    <include file="$(find odom_tools)/launch/vehicle_odom.launch">
        <arg name="output_frame"        value="odom"   />
        <arg name="output_topic"        value="/odometry/wheel" />
        <arg name="publish_tf"          value="false"  />
    </include>

    <!-- ros_filter filter_base ekf -->
    <!-- <node pkg="robot_localization" type="ekf_localization_node" name="ekf_se_odom" clear_params="true"/> -->

    <node pkg="robot_localization" type="ekf_localization_node" name="ekf_se_gps" clear_params="true">
        <remap from="odometry/filtered" to="odom" />
    </node>

    <node pkg="robot_localization" type="navsat_transform_node" name="navsat_transform" clear_params="true">
        <remap from="imu/data" to="imu_raw"/>
        <remap from="odometry/filtered" to="odom"/>
        <remap from="gps/fix" to="fix"/>
    </node>

</launch>